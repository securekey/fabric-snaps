# Copyright SecureKey Technologies Inc. All Rights Reserved.
#
# SPDX-License-Identifier: Apache-2.0
#############################################################
# Configuration for HTTP Snap

logging:
  level: debug
tls:
  allowPeerConfig: false
  enableSystemCertPool: true
  caCerts:
  - |
    -----BEGIN CERTIFICATE-----
    MIIDBTCCAmagAwIBAgIUBPlCjSGMtO62mtuBZ0abLaLfttIwCgYIKoZIzj0EAwQw
    gZYxCzAJBgNVBAYTAkNBMRAwDgYDVQQIEwdPbnRhcmlvMRAwDgYDVQQHEwdUb3Jv
    bnRvMRUwEwYDVQQKEwxmYWJyaWMtc25hcHMxEjAQBgNVBAsTCVVuaXQtVGVzdDE4
    MDYGA1UEAxMvbGludXhjdGwgRUNDIFJvb3QgQ2VydGlmaWNhdGlvbiBBdXRob3Jp
    dHkgKExhYikwHhcNMTgwMTE1MTkzMjAwWhcNMTkwMTE1MTkzMjAwWjBwMQswCQYD
    VQQGEwJDQTEQMA4GA1UECBMHT250YXJpbzEQMA4GA1UEBxMHVG9yb250bzEVMBMG
    A1UEChMMZmFicmljLXNuYXBzMRIwEAYDVQQLEwlVbml0LVRlc3QxEjAQBgNVBAMT
    CXVuaXQtdGVzdDB2MBAGByqGSM49AgEGBSuBBAAiA2IABB4xoLLZo/aGJ44TFTWL
    WqHajzbcAk2QFZNIt16KJSbFCwYsZ9NCjObBeAdz18enlxJY4jB/V0HGb7Me9Nuq
    psss0Mohxm3WtMLSCRkTwKbgBOr5Sfvvy3ApwIFiRhI6gKOBmTCBljAOBgNVHQ8B
    Af8EBAMCBaAwEwYDVR0lBAwwCgYIKwYBBQUHAwEwDAYDVR0TAQH/BAIwADAdBgNV
    HQ4EFgQUeTlBtBNg5dG6cmiNauCFzd0LLNcwHwYDVR0jBBgwFoAUr6VQWaiJyM4B
    KhIixhp2gUnGJvswIQYDVR0RBBowGIIJbG9jYWxob3N0ggsqLm9uZXRhcC5jYTAK
    BggqhkjOPQQDBAOBjAAwgYgCQgHlpp8EYJSR05zNTNRGyn33e7hHsR3BHIldxn12
    XJsCQ00c3XcbWVcmN6hmeL/p9Anfusb5uwBjf40uSa0dyexCJAJCAMcNNd/I9sKa
    ghMtdQhvDdqSXZHuniMm5KI+oJV2ByeXa95GU/NqdLp260aJlvC77ggCnLW8gbeB
    FL1OB7nxGWvi
    -----END CERTIFICATE-----
  - |
    -----BEGIN CERTIFICATE-----
    MIIC+jCCAlugAwIBAgIULluhccK9VrgQJyewBOymxyNVrWEwCgYIKoZIzj0EAwQw
    gZYxCzAJBgNVBAYTAkNBMRAwDgYDVQQIEwdPbnRhcmlvMRAwDgYDVQQHEwdUb3Jv
    bnRvMRUwEwYDVQQKEwxmYWJyaWMtc25hcHMxEjAQBgNVBAsTCVVuaXQtVGVzdDE4
    MDYGA1UEAxMvbGludXhjdGwgRUNDIFJvb3QgQ2VydGlmaWNhdGlvbiBBdXRob3Jp
    dHkgKExhYikwHhcNMTgwMTE1MTkzMjAwWhcNNDgwMTA4MTkzMjAwWjCBljELMAkG
    A1UEBhMCQ0ExEDAOBgNVBAgTB09udGFyaW8xEDAOBgNVBAcTB1Rvcm9udG8xFTAT
    BgNVBAoTDGZhYnJpYy1zbmFwczESMBAGA1UECxMJVW5pdC1UZXN0MTgwNgYDVQQD
    Ey9saW51eGN0bCBFQ0MgUm9vdCBDZXJ0aWZpY2F0aW9uIEF1dGhvcml0eSAoTGFi
    KTCBmzAQBgcqhkjOPQIBBgUrgQQAIwOBhgAEAbJn/emfX5R/bp6XpTFmja+VNQ6n
    pjVyxxzFt4okKKiXq8OLw7eYTvWhH9095Jm7IXS3bRHIQFiC4qPBuXfFH27nAEAe
    K8uCequt5HLGUjk0ASa6AKFNcGdP68DVlfxMqA+rkXEhm3RKN2TJ2lXDFUdGfcnU
    N/x+y0evCSvUM4W0IX1uo0IwQDAOBgNVHQ8BAf8EBAMCAQYwDwYDVR0TAQH/BAUw
    AwEB/zAdBgNVHQ4EFgQUr6VQWaiJyM4BKhIixhp2gUnGJvswCgYIKoZIzj0EAwQD
    gYwAMIGIAkIA+P1kHsKe2ihyuLCbS6ci/3vn6vu0rLaLQEV8cx189tS34p2HgW2c
    y6X7iixIl9UvIkaogNB4hvs2P5nLg4C67AMCQgEyk/FnoXa3WNTmVKvy6H/lu1ni
    ZdrCFJpjuOrldX19SqjqCPuT90pok+jIZqMEFZAuxaAxrUH+cW4JCIOOvs9/Cw==
    -----END CERTIFICATE-----
  clientCert: |
    -----BEGIN CERTIFICATE-----
    MIIC9zCCAlmgAwIBAgIUN7BH7F/QpCJA1spc3GQJ41KBLZgwCgYIKoZIzj0EAwQw
    gZYxCzAJBgNVBAYTAkNBMRAwDgYDVQQIEwdPbnRhcmlvMRAwDgYDVQQHEwdUb3Jv
    bnRvMRUwEwYDVQQKEwxmYWJyaWMtc25hcHMxEjAQBgNVBAsTCVVuaXQtVGVzdDE4
    MDYGA1UEAxMvbGludXhjdGwgRUNDIFJvb3QgQ2VydGlmaWNhdGlvbiBBdXRob3Jp
    dHkgKExhYikwHhcNMTgwMTE1MTkzMjAwWhcNMTkwMTE1MTkzMjAwWjBwMQswCQYD
    VQQGEwJDQTEQMA4GA1UECBMHT250YXJpbzEQMA4GA1UEBxMHVG9yb250bzEVMBMG
    A1UEChMMZmFicmljLXNuYXBzMRIwEAYDVQQLEwlVbml0LVRlc3QxEjAQBgNVBAMT
    CXVuaXQtdGVzdDB2MBAGByqGSM49AgEGBSuBBAAiA2IABNvREe72ohWJB8m/i+FZ
    l0gmNNeVaNoDAFghDO9YxeheSXadq0cWwYi/P8zMktoVwA553eJZRc8IETCDk1Sm
    9pzJf2umNtgoqK9MShDJZ86io9NEal8lCiL7HbYcLFqYyqOBjDCBiTAOBgNVHQ8B
    Af8EBAMCBaAwEwYDVR0lBAwwCgYIKwYBBQUHAwIwDAYDVR0TAQH/BAIwADAdBgNV
    HQ4EFgQUtjbAX0mMDCil9CDWsdok85XCj2cwHwYDVR0jBBgwFoAUr6VQWaiJyM4B
    KhIixhp2gUnGJvswFAYDVR0RBA0wC4IJdW5pdC10ZXN0MAoGCCqGSM49BAMEA4GL
    ADCBhwJBCBuJmFqC1lZ4slnwuD0g+pDe8L/xJLvy9FOIZgu8lESsYPFo8jLUSfVr
    5zeXAqjhJYHxiwyD1e58/NfTj6bQPxMCQgE0xjW7E1eWQfaPXthfX2tra2LklZsp
    P/wn5DgTDcFe1GSbySRNfyOkwxmdFeFvU85dT7eX7Z0eDfSVAy/A2tuG3g==
    -----END CERTIFICATE-----
  namedClientOverride:
   abc:
     ca: |
      -----BEGIN CERTIFICATE-----
      MIIDBTCCAmagAwIBAgIUBPlCjSGMtO62mtuBZ0abLaLfttIwCgYIKoZIzj0EAwQw
      gZYxCzAJBgNVBAYTAkNBMRAwDgYDVQQIEwdPbnRhcmlvMRAwDgYDVQQHEwdUb3Jv
      bnRvMRUwEwYDVQQKEwxmYWJyaWMtc25hcHMxEjAQBgNVBAsTCVVuaXQtVGVzdDE4
      MDYGA1UEAxMvbGludXhjdGwgRUNDIFJvb3QgQ2VydGlmaWNhdGlvbiBBdXRob3Jp
      dHkgKExhYikwHhcNMTgwMTE1MTkzMjAwWhcNMTkwMTE1MTkzMjAwWjBwMQswCQYD
      VQQGEwJDQTEQMA4GA1UECBMHT250YXJpbzEQMA4GA1UEBxMHVG9yb250bzEVMBMG
      A1UEChMMZmFicmljLXNuYXBzMRIwEAYDVQQLEwlVbml0LVRlc3QxEjAQBgNVBAMT
      CXVuaXQtdGVzdDB2MBAGByqGSM49AgEGBSuBBAAiA2IABB4xoLLZo/aGJ44TFTWL
      WqHajzbcAk2QFZNIt16KJSbFCwYsZ9NCjObBeAdz18enlxJY4jB/V0HGb7Me9Nuq
      psss0Mohxm3WtMLSCRkTwKbgBOr5Sfvvy3ApwIFiRhI6gKOBmTCBljAOBgNVHQ8B
      Af8EBAMCBaAwEwYDVR0lBAwwCgYIKwYBBQUHAwEwDAYDVR0TAQH/BAIwADAdBgNV
      HQ4EFgQUeTlBtBNg5dG6cmiNauCFzd0LLNcwHwYDVR0jBBgwFoAUr6VQWaiJyM4B
      KhIixhp2gUnGJvswIQYDVR0RBBowGIIJbG9jYWxob3N0ggsqLm9uZXRhcC5jYTAK
      BggqhkjOPQQDBAOBjAAwgYgCQgHlpp8EYJSR05zNTNRGyn33e7hHsR3BHIldxn12
      XJsCQ00c3XcbWVcmN6hmeL/p9Anfusb5uwBjf40uSa0dyexCJAJCAMcNNd/I9sKa
      ghMtdQhvDdqSXZHuniMm5KI+oJV2ByeXa95GU/NqdLp260aJlvC77ggCnLW8gbeB
      FL1OB7nxGWvi
      -----END CERTIFICATE-----
     crt: |
      -----BEGIN CERTIFICATE-----
      MIIC9zCCAlmgAwIBAgIUN7BH7F/QpCJA1spc3GQJ41KBLZgwCgYIKoZIzj0EAwQw
      gZYxCzAJBgNVBAYTAkNBMRAwDgYDVQQIEwdPbnRhcmlvMRAwDgYDVQQHEwdUb3Jv
      bnRvMRUwEwYDVQQKEwxmYWJyaWMtc25hcHMxEjAQBgNVBAsTCVVuaXQtVGVzdDE4
      MDYGA1UEAxMvbGludXhjdGwgRUNDIFJvb3QgQ2VydGlmaWNhdGlvbiBBdXRob3Jp
      dHkgKExhYikwHhcNMTgwMTE1MTkzMjAwWhcNMTkwMTE1MTkzMjAwWjBwMQswCQYD
      VQQGEwJDQTEQMA4GA1UECBMHT250YXJpbzEQMA4GA1UEBxMHVG9yb250bzEVMBMG
      A1UEChMMZmFicmljLXNuYXBzMRIwEAYDVQQLEwlVbml0LVRlc3QxEjAQBgNVBAMT
      CXVuaXQtdGVzdDB2MBAGByqGSM49AgEGBSuBBAAiA2IABNvREe72ohWJB8m/i+FZ
      l0gmNNeVaNoDAFghDO9YxeheSXadq0cWwYi/P8zMktoVwA553eJZRc8IETCDk1Sm
      9pzJf2umNtgoqK9MShDJZ86io9NEal8lCiL7HbYcLFqYyqOBjDCBiTAOBgNVHQ8B
      Af8EBAMCBaAwEwYDVR0lBAwwCgYIKwYBBQUHAwIwDAYDVR0TAQH/BAIwADAdBgNV
      HQ4EFgQUtjbAX0mMDCil9CDWsdok85XCj2cwHwYDVR0jBBgwFoAUr6VQWaiJyM4B
      KhIixhp2gUnGJvswFAYDVR0RBA0wC4IJdW5pdC10ZXN0MAoGCCqGSM49BAMEA4GL
      ADCBhwJBCBuJmFqC1lZ4slnwuD0g+pDe8L/xJLvy9FOIZgu8lESsYPFo8jLUSfVr
      5zeXAqjhJYHxiwyD1e58/NfTj6bQPxMCQgE0xjW7E1eWQfaPXthfX2tra2LklZsp
      P/wn5DgTDcFe1GSbySRNfyOkwxmdFeFvU85dT7eX7Z0eDfSVAy/A2tuG3g==
      -----END CERTIFICATE-----
schemas:
  - type: application/json
    request: '{
    "$schema": "http://json-schema.org/draft-04/schema#",
    "title": "Request Schema",
    "description": "Some product",
    "type": "object",
    "properties": {
        "id": {
            "description": "The unique identifier for a product",
            "type": "string"
        },
        "name": {
            "description": "Name of the product",
            "type": "string"
        },
        "story": {
            "description": "Product story",
            "type": "string"
        }
    },
    "required": ["id", "name"]
}'
    response: '{
    "$schema": "http://json-schema.org/draft-04/schema#",
    "title": "Response Schema",
    "description": "Some description",
    "type": "object",
    "properties": {
        "response": {
            "description": "Response description",
            "type": "string"
        }
    },
    "required": ["description"]
}'

headers:
  - Content-Type
  - Authorization
  
cache:
  keycache:
    enabled: true
    refresh: 50m